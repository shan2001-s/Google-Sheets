<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>easyData - open source & free solutions</title>
    <!-- Icon -->
    <link
      rel="icon"
      href="https://easy-data.mdbgo.io/img/favicon/favicon-32x32.png"
      type="image/x-icon"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.11.2/css/all.css"
    />
    <!-- Google Fonts Roboto -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
    />
    <!-- MDB UI KIT -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.0/mdb.min.css" />
    <!-- Custom styles -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cdbootstrap/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cdbootstrap/css/cdb.min.css"/>
  <style>
      


    .heart-icon.green {
        fill: red;
        cursor:pointer;
    }

    .heart-icon.black {
    fill: black;
    cursor:pointer;
    }
</style>
  </head>

  <body>
    <!--Main Navigation-->
    <header class="mb-10">

      
      <!-- Navbar-->
      <nav
        class="navbar navbar-expand-lg navbar-light bg-white shadow-2 fixed-top"
      >
        <div
          class="
            container-fluid
            justify-content-center justify-content-md-between
          "
        >
          <!-- Left elements -->
          <ul class="navbar-nav flex-row align-items-center">
            <li class="nav-item me-3 me-lg-1">
              <a
                class="nav-link d-flex"
                href="https://easy-data.mdbgo.io/"
                target="_blank"
              >
                <img
                  src="https://easy-data.mdbgo.io/img/logo.png"
                  height="31"
                  alt=""
                  loading="lazy"
                  class="me-2"
                />
                <span
                  style="
                    font-size: 19px;
                    font-weight: 500;
                    color: hsl(0, 0%, 30%);
                  "
                  >Block<span class="text-theme">Week</span></span
                >
              </a>
            </li>
            
          </ul>
          <!-- Left elements -->

       

          <!-- Right elements -->
          <ul class="navbar-nav flex-row d-none d-md-flex">
            <li class="nav-item me-3 me-lg-1">
              <!-- Example single danger button -->


  <input class="form-control me-2" type="search" placeholder="Search"  id="searchInput" onkeyup="filterTable()">

            </li>
          
           
            <li class="nav-item me-3 me-lg-1">
              <a
                href="https://mdbootstrap.com/"
                target="_blank"
                class="
                  btn btn-primary btn-rounded
                  mx-2
                  d-none d-lg-inline-block
                "
                >Summit Event</a
              >
            </li>

          </ul>
          <!-- Right elements -->
        </div>
      </nav>
      <!-- Navbar -->
    </header>
    <!--Main Navigation-->

    <!--Main layout-->
    <main>

      <div class="container" style="margin-top: -30px;">
        <div class="row ">
         <div class="col-10">
          <h1>September 2023</h1>
         </div>
          <div class="col-2">
            <button class="btm btn-outline-primary" > All =></button>
          </div>
       
        </div>
 <!-- Button trigger modal -->
<a type="button"  data-bs-toggle="modal" data-bs-target="#Modal1">
  Launch demo modal
</a>
<a >
  Launch demo modal
</a>



        <div >
           <div class="">
            <ul class="nav nav-tabs mb-3 d-flex justify-content-center" id="ex1" role="tablist">
              <li class="nav-item" role="presentation">
                <a
                  class="nav-link active"
                  id="ex1-tab-1"
                  data-bs-toggle="tab"
                  href="#ex1-tabs-1"
                  role="tab"
                  aria-controls="ex1-tabs-1"
                  aria-selected="true"
                  >MON  <br>12</a
                >
              </li>
              <li class="nav-item" role="presentation">
                <a
                  class="nav-link"
                  id="ex1-tab-2"
                  data-bs-toggle="tab"
                  href="#ex1-tabs-2"
                  role="tab"
                  aria-controls="ex1-tabs-2"
                  aria-selected="false"
                  >MON  <br>12</a
                >
              </li>
              <li class="nav-item" role="presentation">
                <a
                  class="nav-link"
                  id="ex1-tab-3"
                  data-bs-toggle="tab"
                  href="#ex1-tabs-3"
                  role="tab"
                  aria-controls="ex1-tabs-3"
                  aria-selected="false"
                  >MON  <br>12</a
                >
              </li>
              <li class="nav-item" role="presentation">
                <a
                  class="nav-link "
                  id="ex1-tab-4"
                  data-bs-toggle="tab"
                  href="#ex1-tabs-4"
                  role="tab"
                  aria-controls="ex1-tabs-4"
                  aria-selected="true"
                  >MON  <br>12</a
                >
              </li>
              <li class="nav-item" role="presentation">
                <a
                  class="nav-link"
                  id="ex1-tab-5"
                  data-bs-toggle="tab"
                  href="#ex1-tabs-5"
                  role="tab"
                  aria-controls="ex1-tabs-5"
                  aria-selected="false"
                  >MON  <br>12</a
                >
              </li>
              <li class="nav-item" role="presentation">
                <a
                  class="nav-link"
                  id="ex1-tab-6"
                  data-bs-toggle="tab"
                  href="#ex1-tabs-6"
                  role="tab"
                  aria-controls="ex1-tabs-6"
                  aria-selected="false"
                  >MON  <br>12</a
                >
              </li>
              <li class="nav-item" role="presentation">
                <a
                  class="nav-link "
                  id="ex1-tab-7"
                  data-bs-toggle="tab"
                  href="#ex1-tabs-7"
                  role="tab"
                  aria-controls="ex1-tabs-7"
                  aria-selected="true"
                  >MON  <br>12</a
                >
              </li>
              
            </ul>
            <div class="tab-content" id="ex1-content">
              <div
                class="tab-pane fade show active"
                id="ex1-tabs-1"
                role="tabpanel"
                aria-labelledby="ex1-tab-1"
              >
              <table class="table" id="DataTable">
        
                <tbody id="table-body1"></tbody>
              </table>
              </div>
              <div class="tab-pane fade" id="ex1-tabs-2" role="tabpanel" aria-labelledby="ex1-tab-2">
                <table class="table">
        
                  <tbody id="table-body2"></tbody>
                </table>
              </div>
              <div class="tab-pane fade" id="ex1-tabs-3" role="tabpanel" aria-labelledby="ex1-tab-3">
                Tab 3 content
              </div>
              <div  class="tab-pane fade" id="ex1-tabs-4" role="tabpanel" aria-labelledby="ex1-tab-4">
                Tab 4 content
              </div>
              <div  class="tab-pane fade" id="ex1-tabs-5" role="tabpanel" aria-labelledby="ex1-tab-5">
                Tab 5 content
              </div>
              <div class="tab-pane fade" id="ex1-tabs-6" role="tabpanel" aria-labelledby="ex1-tab-6">
                Tab 6 content
              </div>
              <div class="tab-pane fade " id="ex1-tabs-7" role="tabpanel" aria-labelledby="ex1-tab-7">
                Tab 7 content
              </div>
            </div>
           </div>
        
        </div>

        

        <!-- Table -->
       
        <!-- Table -->
      </div>
    </main>
    <!--Main layout-->

    <!--Footer-->
    <footer></footer>
    <!--Footer-->
  </body>

  <!-- MDB ESSENTIAL -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.0/mdb.min.js"></script>
  <!-- Google API -->
  <script src="https://apis.google.com/js/api.js"></script>
  <!-- easyData -->
  <script type="text/javascript" src="js/easyData-google-sheets.js"></script>

  <!-- easyData - Creating table -->
  <script>
    {
      {
        // Your API KEY
        const API_KEY = "AIzaSyAKT4NnXuhCcpx16JS3de4wdpcTMDoRAgc";

        // for search

        function filterTable() {
    let input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("searchInput");
    filter = input.value.toUpperCase();
    table = document.getElementById("DataTable"); // Replace "yourTableID" with your actual table ID
    tr = table.getElementsByTagName("tr");

    for (i = 1; i < tr.length; i++) { // Start from 1 to skip the header row
        td = tr[i].getElementsByTagName("td");
        let match = false;
        for (let j = 0; j < td.length; j++) {
            txtValue = td[j].textContent || td[j].innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                match = true;
                break;
            }
        }
        tr[i].style.display = match ? "" : "none";
    }
}


        // for Monday
        function displayResult1(response) {
          let tableHead = "";
          let tableBody = "";

          response.result.values.forEach((row, index) => {
            if (index === 0) {
              tableHead += "<tr>";
              row.forEach((val) => (tableHead += "<th>" + val + "</th>"));
              tableHead += "</tr>";
            } else {

              tableBody += "<tr>";
                let existingData = JSON.parse(localStorage.getItem('clickedIndexesL')) || [];

                if (existingData.includes(index)) {
               
                  tableBody += `<td>    <a style="cursor: pointer;" class="heart-btn" onclick="handleButtonClick(${index})" id="heartBtnContainer${index}">
                  <svg class="heart-icon green" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
                        <path d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/>
                    </svg>
                     </a>
 </td>`
                }
                else {
                  tableBody += `<td>    <a style="cursor: pointer;" class="heart-btn" onclick="handleButtonClick(${index})" id="heartBtnContainer${index}">
                  <svg class="heart-icon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
                        <path d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/>
                    </svg>
                     </a>
 </td>`
                }
                
                
                row.forEach((val, index) => {
  if (index === 1) {
    const modalId = `${val.replace(/\s+/g, '&nbsp;')}`; // Create unique modal ID from row[1]
    tableBody += `
      <td>
        <a type="button" data-bs-toggle="modal" data-bs-target="#${modalId}" style='color:black; text-decoration: underline;'>${val}</a>
      </td>
      <!-- Modal -->
      <div class="modal fade" id="${modalId}" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" >Modal title${modalId}</h1>
            
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p>  ${row[2]}</p>
              <!-- Content for the modal -->
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    `;
  } else {
    tableBody += "<td>" + val + "</td>";
  }
});

              console.log(row[1]);
              tableBody += "</tr>";
            }
          });

       
          document.getElementById("table-body1").innerHTML = tableBody;

          filterTable();
        }

        // for love btn
        function handleButtonClick(index) {
            // Retrieve existing data from local storage (if any)
            let existingData = JSON.parse(localStorage.getItem('clickedIndexesL')) || [];

            // Check if the index is already in the array
            const indexExists = existingData.indexOf(index) !== -1;

            if (indexExists) {
                // Remove the index from the array
                existingData = existingData.filter(item => item !== index);
            } else {
                // Add the index to the array
                existingData.push(index);
            }

            // Save the updated array back to local storage
            localStorage.setItem('clickedIndexesL', JSON.stringify(existingData));

            // Update button style
            const button = document.getElementById(`heartBtnContainer${index}`);
            if (indexExists) {
                button.classList.remove('highlighted');
                button.querySelector('.heart-icon').classList.remove('green');
                button.querySelector('.heart-icon').classList.add('black');
            } else {
                button.classList.add('highlighted');
                button.querySelector('.heart-icon').classList.remove('black');
                button.querySelector('.heart-icon').classList.add('green');
            }

            }

      
        function displayResult2(response) {
          let tableHead = "";
          let tableBody = "";

          response.result.values.forEach((row, index) => {
            if (index === 0) {
              tableHead += "<tr>";
              row.forEach((val) => (tableHead += "<th>" + val + "</th>"));
              tableHead += "</tr>";
            } else {
              tableBody += "<tr>";
               
               
                row.forEach((val) => (tableBody += "<td>  " + val + "</td>"));
              tableBody += "</tr>";
            }
          });

       
          document.getElementById("table-body2").innerHTML = tableBody;
        }

       
        function loadData() {
          // Spreadsheet ID
          const spreadsheetId = "1SX-0rNXZ-yp_4wtoHp_eFuDklyCXDqwi1ca0YtV9E9U";
          const range = "A:C";
          const range2 = "D:G";
           getPublicValues({ spreadsheetId, range }, displayResult1);
          getPublicValues({ spreadsheetId, range: range2}, displayResult2);
        }

document.addEventListener("gapi-loaded", (e) => {
    loadData();
    
});

window.addEventListener("load", (e) => {
    initOAuthClient({ apiKey: API_KEY });
  });


      }
    }
  </script>


    <script src="https://cdn.jsdelivr.net/npm/cdbootstrap/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cdbootstrap/js/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cdbootstrap/js/cdb.min.js"></script>

</html>
